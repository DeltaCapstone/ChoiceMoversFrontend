<app-profile *ngIf="currentUser; else tableView"></app-profile>

<ng-template #tableView>
  <div style="border: 1px solid rgb(27, 31, 59, .2);" class="bg-[white] h-full p-[20px]" tuiTableFilters>
    <form class="w-full" [formGroup]="form">
      <div class="flex mb-[1.5em] ml-0 items-center">
        <tui-input class="w-2/5" tuiTextfieldSize="s" formControlName="input" tuiTableFilter="name"
          [tuiGenericFilter]="nameFilter">
          Name
          <input tuiTextfield />
        </tui-input>
        <!-- <div class="px-[0.65em] py-[0.4em] bg-primary rounded-[3.25px] text-[white] ml-auto flex items-center cursor-pointer"> -->
        <!--   <tui-svg src="tuiIconFilter"></tui-svg> -->
        <!-- </div> -->
        <div
          class="px-[0.65em] py-[0.4em] bg-primary ml-auto text-[white] rounded-[3.25px] flex items-center cursor-pointer">
          <tui-svg src="tuiIconPlusCircle"></tui-svg>
        </div>
      </div>

      <table class="w-full" tuiTable [columns]="columns">
        <thead>
          <tr tuiThGroup>
            <th *tuiHead="'name'" tuiTh>
              Name
            </th>
            <th *tuiHead="'email'" tuiTh>
              E-mail
            </th>
            <th *tuiHead="'status'" tuiTh>
              Status
            </th>
            <th *tuiHead="'tags'" tuiTh [sorter]="null">
              Tags
            </th>
          </tr>
        </thead>
        <tbody *tuiLet="users | tuiTableSort as sortedUsers" tuiTbody [data]="sortedUsers">
          <tr *ngFor="let item of sortedUsers | tuiTableFilters | async" tuiTr>
            <td *tuiCell="'name'" tuiTd>
              {{ item.name }}
            </td>
            <td *tuiCell="'email'" tuiTd>
              <a *ngIf="item.email" tuiLink [href]="'mailto:' + item.email">
                {{ item.email }}
              </a>
            </td>
            <td *tuiCell="'status'" tuiTd>
              <div [class]="item.status">{{ item.status }}</div>
            </td>
            <td *tuiCell="'tags'" tuiTd>
              <tui-tag *ngFor="let tag of item.tags" class="tui-space_right-1" [autoColor]="true"
                [value]="tag"></tui-tag>
            </td>
          </tr>
        </tbody>
      </table>
    </form>
  </div>
</ng-template>
